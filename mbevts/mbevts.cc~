#ifndef mbevts_cxx
#define mbevts_cxx

#include "mbevts.hh"

void mbevts::Initialize() {
	gen=-100.;
	cid=-1;
	sid=-1;
	cluid=-1;
	tha=-1;
	pha=-1;
	ctr=0;
	for( int i=0; i<8; i++ ){
		pen[i]=-100.;
		time[i]=-100.;
		sst[i]=-100.;
		td[i]=-20000.;
		ann[i]=-1;
		sec[i]=-1;
		det[i]=-1;
		coin[i]=-1;
		pr_ptr[i]=-1;
		rndm_ptr[i]=-1;
	}; 
	laser=-1;
	pr_hits=0;
	rndm_hits=0;
	file=-1;
}

void mbevts::CopyData(mbevts* src) {
	gen=src->gen;
	cid=src->cid;
	sid=src->sid;
	cluid=src->cluid;
	tha=src->tha;
	pha=src->pha;
	ctr=src->ctr;
	for( int i=0; i<8; i++ ){
		pen[i]=src->pen[i];
		time[i]=src->time[i];
		sst[i]=src->sst[i];
		td[i]=src->td[i];
		ann[i]=src->ann[i];
		sec[i]=src->sec[i];
		det[i]=src->det[i];
		coin[i]=src->coin[i];
		rndm_ptr[i]=src->rndm_ptr[i];
		pr_ptr[i]=src->pr_ptr[i];
	};
	laser=src->laser;
	pr_hits=src->pr_hits;
	rndm_hits=src->rndm_hits;
	file=src->file;
}

void mbevts::SetGen(double en) {
	gen=en;
}

void mbevts::SetCluid(int id) {
	cluid=id;
}

void mbevts::SetCid(int id) {
	cid=id;
}

void mbevts::SetSid(int id) {
	sid=id;
}

void mbevts::SetTheta(double theta) {
	tha=theta;
}

void mbevts::SetPhi(double phi) {
	pha=phi;
}

double mbevts::GetGen() {
	return gen;
}

int mbevts::GetCluid() {
	return cluid;
}

int mbevts::GetCid() {
	return cid;
}

int mbevts::GetSid() {
	return sid;
}

double mbevts::GetTheta() {
	return tha;
}

double mbevts::GetPhi() {
	return pha;
}

int mbevts::GetNrParts() {
	return ctr;
}

double mbevts::GetPen(int nr) {
	return pen[nr];
}

int mbevts::GetAnn(int nr) {
	return ann[nr];
}

int mbevts::GetSec(int nr) {
	return sec[nr];
}

void mbevts::SetPart(double en, int a, int s, double t, double ss, double ctd, int co, int quad, int laserflag, int nr) { 
	laser=laserflag;
	if( nr<8 ){
		pen[nr]=en;
		ann[nr]=a;
		sec[nr]=s;
		time[nr]=t;
		sst[nr]=ss;
		td[nr]=ctd;
		det[nr]=quad;
		coin[nr]=co;
	} else {
		printf("INCREASE PARTS = 9 !\n");
	};
	ctr++;
}

void mbevts::SearchCoin() {
	for( int i=0; i<ctr; i++ ){
		if( coin[i]==0 ){
			pr_ptr[pr_hits]=i; 
			pr_hits++; 
		}
		else if( coin[i]==1 ){ 
			rndm_ptr[rndm_hits]=i;   
			rndm_hits++; 
		}   
	}
}
#ednif
